<html>
<body>

<button>Send post message from web</button>
<div>Post message log 3</div>
<textarea style="height: 50%; width: 100%;" readonly></textarea>
    

<script>
var log = document.querySelector("textarea");

// //     will work in iframe
// document.querySelector("button").addEventListener('click', function (e) {
//     alert('Send post message')
//     window.parent.postMessage("Post message from web", "*");
// });
    
// document.addEventListener("message", function (event) {
//     alert('RN webview listener is called')
//   window.ReactNativeWebView.postMessage(event.data);
// }, false);    
    
document.querySelector("button").addEventListener('click', function (e) {
    alert('Send post message')
    console.log(postMessage, window.postMessage)
    window.postMessage("Post message from web");
    alert(window.ReactNativeWebView)
     window.ReactNativeWebView.postMessage("Post message from RN webview web");
});
// document.querySelector("button").onclick = function() {
//     console.log("Send post message");
//     alert('Send post message')

//     // logMessage("Sending post message from web..");
//     window.parent.postMessage("Post message from web", "*");
// }

// document.addEventListener("message", function(event) {
//     alert('Received post message')
//     alert(event)
//     console.log("Received post message", event);

//     logMessage(event.data);
// }, false);

function logMessage(message) {
    log.append((new Date()) + " " + message + "\n");
}

// setTimeout(() => {
//     alert(window.ff)
//     alert(window.share)
//     alert('fixed alert')
//     window.share()
// }, 1000);
    
</script>

</body>
</html>
